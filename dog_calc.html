<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Dog's Calories Calculator - PetzyBites</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Marcellus:wght@400&display=swap"
    rel="stylesheet">

  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/articles.css" rel="stylesheet">

  <style>
    body,
    html {
      cursor: url('assets/img/cursor.cur'), auto;
    }


    .process-step {
      text-align: center;
      padding: 20px;
    }

    .process-step img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .process-step h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #116530;
      font-weight: 600;
    }

    .process-step p {
      font-size: 1.1rem;
      color: #666;
      margin: 0;
      line-height: 1.6;
    }

    .row.gy-4 .col-lg-4 {
      flex: 0 0 calc(33.333% - 20px);
      max-width: calc(33.333% - 20px);
      margin-bottom: 20px;
    }

    .row.gy-4 .col-lg-3 {
      flex: 0 0 calc(33% - 20px);
      max-width: calc(33% - 20px);
      margin-bottom: 20px;
    }

    @media (max-width: 768px) {

      .row.gy-4 .col-lg-4,
      .row.gy-4 .col-lg-3 {
        flex: 0 0 100%;
        max-width: 100%;
        margin-bottom: 20px;
      }

      .process-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
      }

      .process-step img {
        width: 100%;
        max-width: 400px;
        margin: 0 auto 15px;
      }

      .process-step h3 {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      .process-step p {
        font-size: 1.15rem;
        line-height: 1.7;
        padding: 0 5px;
      }

      .team-card {
        margin: 20px 0;
      }

      .team-message {
        padding: 5px 5px 10px 5px;
        width: 100%;
        max-width: 100%;
      }

      .team-message p {
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .team-message p:first-child {
        font-size: 1.2rem;
        margin-bottom: 20px;
      }

      .team-message .signature {
        margin-top: 10px;
      }

      .team-message .signature p {
        margin-bottom: 3px;
        font-size: 0.9rem;
      }
    }

    .team-card {
      position: relative;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.4s ease;
      background-color: #fff;
      margin: 40px 0;
      overflow: hidden;
      display: flex;
      flex-direction: row;
      min-height: 500px;
    }

    .team-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 25px rgba(17, 101, 48, 0.3);
    }

    .team-image-section {
      flex: 0 0 35%;
      position: relative;
    }

    .team-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .team-card:hover img {
      transform: scale(1.05);
    }

    .team-info {
      padding: 25px;
      background-color: #fff;
      text-align: center;
      border-right: 3px solid #116530;
    }

    .team-info h3 {
      color: #116530;
      font-size: 1.3rem;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .team-info span {
      color: #666;
      font-size: 1rem;
      display: block;
      margin-bottom: 15px;
    }

    .social-links a {
      color: #116530;
      font-size: 1.1rem;
      margin: 0 8px;
      transition: color 0.3s ease;
    }

    .social-links a:hover {
      color: #39ff14;
    }

    .team-message {
      flex: 0 0 65%;
      padding: 40px;
      background-color: #f8f9fa;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .team-message p {
      font-size: 1rem;
      line-height: 1.8;
      color: #444;
      margin: 0 0 20px 0;
      font-style: italic;
      text-align: justify;
    }

    .team-message p:first-child {
      font-size: 1.3rem;
      font-weight: 600;
      color: #116530;
      margin-bottom: 30px;
      font-style: normal;
      text-align: center;
    }

    .team-message p:last-child {
      margin-bottom: 0;
    }

    .team-message .signature {
      margin-top: 15px;
    }

    .team-message .signature p {
      margin-bottom: 5px;
      font-size: 0.95rem;
    }

    .language-dropdown-fixed {
      position: absolute;
      top: 10px;
      right: 30px;
      z-index: 2000;
    }

    .language-dropdown-fixed select {
      padding: 5px 16px 5px 8px;
      font-size: 15px;
      border-radius: 4px;
      border: 1px solid #ccc;
      background: #fff;
      color: #222;
      font-weight: bold;
      cursor: pointer;
      outline: none;
      transition: border 0.2s;
    }

    .language-dropdown-fixed select:focus {
      border: 1.5px solid #1a7a3c;
    }

    [dir="rtl"] .language-dropdown-fixed {
      right: auto;
      left: 30px;
    }

    [dir="rtl"] [data-translate^="about."] {
      text-align: right !important;
    }

    [dir="rtl"] #our-journey p {
      text-align: center !important;
    }

    [dir="rtl"] #our-journey h2 {
      text-align: center !important;
    }

    [dir="rtl"] #our-process h2,
    [dir="rtl"] #our-process p {
      text-align: center !important;
    }

    [dir="rtl"] #our-process h3 {
      text-align: center !important;
    }

    [dir="rtl"] #mission-vision h2,
    [dir="rtl"] #mission-vision p {
      text-align: center !important;
    }

    [dir="rtl"] #our-team h2 {
      text-align: center !important;
    }

    [dir="rtl"] .page-title h1 {
      text-align: center !important;
    }

    #mission-vision h2,
    #our-journey h2 {
      color: #fff !important;
    }

    #navmenu.navmenu a:not(.category_links a) {
      font-size: 22px !important;
    }

    .header .logo img {
      height: 110px !important;
      max-height: 110px !important;
      width: auto !important;
      margin-right: 8px !important;
      display: block !important;
    }
  </style>
</head>

<body class="about-page">

  <header id="header" class="header d-flex align-items-center position-relative">
    <div class="language-dropdown-fixed">
      <select id="languageDropdown" onchange="setLanguage(this.value)">
        <option value="en">EN</option>
        <option value="ar">عربي</option>
      </select>
    </div>
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <img src="assets/img/logo.png" alt="PetzyBites">
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html" data-translate="nav.home">Home</a></li>
          <li><a href="about.html" data-translate="nav.about">About Us</a></li>
          <li><a href="brands.html" data-translate="nav.brands">Our Brands</a></li>
          <li><a href="https://101bite.com/store" data-translate="nav.store">Our Store</a></li>
          <li><a href="pets_calculator.html" data-translate="nav.pets_calculator" class="active">Pets</a></li>
          <li class="nav-item dropdown megamenu-li dmenu">
            <a class="nav-link dropdown-toggle active" href="#" id="dropdown01" aria-haspopup="true"
              aria-expanded="false" data-translate="nav.blog">
              Our Blog
            </a>
            <div class="dropdown-menu megamenu sm-menu border-top" aria-labelledby="dropdown01">
              <div class="row" style="row-gap: 40px;">
                <div class="col-xl-4 col-lg-4 col-md-6">
                  <div class="menu_content">
                    <h4 data-translate="blog.recent">
                      Most Recent
                    </h4>
                    <div class="category_links">
                      <div class="recent_topics">
                        <div class="recent_topics_img">
                          <a href="article.html">
                            <img alt="article title" src="assets/img/Process5.jpg" class="img-fluid">
                          </a>
                        </div>
                        <a href="article.html" class="p-0 my-4">
                          <span data-translate="blog.title">
                            Can Cats Eat Peanut Butter?
                          </span>
                        </a>
                      </div>
                      <a href="article.html" class="btn articlesBtn d-inline-block" data-translate="blog.read_more">
                        Read More
                      </a>
                    </div>
                  </div>
                </div>
                <div class="col-xl-4 col-lg-4 col-md-6">
                  <div class="menu_content menu_content_mobile">
                    <h4 data-translate="blog.content_title">
                      Articles
                    </h4>
                    <div class="category_links">
                      <a data-translate="blog.content_topic1" href="article.html" class="link_topics">Proper Puppy
                        Nutrition Is One
                        Key to a Lifetime of Good Health</a>
                      <a data-translate="blog.content_topic2" href="article.html" class="link_topics">Should You Be
                        Feeding a Large
                        Breed Dog Formula?</a>
                      <a data-translate="blog.content_topic3" href="article.html" class="link_topics">Debarking Pet
                        Myths: Senior
                        Dogs Don’t Need Senior Dog Food</a>
                      <a data-translate="blog.content_topic4" href="article.html" class="link_topics">Pet Food
                        Ingredients:
                        Petzybites products Guide</a>
                    </div>
                  </div>
                </div>
                <div class="col-xl-4 col-lg-4 col-md-6">
                  <div class="menu_content">
                    <h4 data-translate="blog.category_title">
                      Categories
                    </h4>
                    <div class="category_links">
                      <a data-translate="blog.category1" href="categories_articles.html"
                        class="link_topics">Adoption</a>
                      <a data-translate="blog.category2" href="categories_articles.html" class="link_topics">Health</a>
                      <a data-translate="blog.category3" href="categories_articles.html" class="link_topics">Puppy</a>
                      <a data-translate="blog.category_link" href="all_articles.html"
                        class="btn articlesBtn d-inline-block">
                        See All Articles
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="nav-item dropdown megamenu-li dmenu">
            <a class="nav-link dropdown-toggle" href="#" id="dropdown01" aria-haspopup="true" aria-expanded="false"
              data-translate="nav.bag">
              Our Bag
            </a>
            <div class="dropdown-menu megamenu sm-menu border-top" aria-labelledby="dropdown01">
              <div class="row" style="row-gap: 40px;">
                <div class="col-xl-4 col-lg-4 col-md-6">
                  <div class="menu_content">
                    <h4 data-translate="bag.head" style="font-size: 1.3rem;">
                      What's in the Bag
                    </h4>
                    <p data-translate="bag.desc" class="text-white" style="font-size: 1.2rem;">
                      Discover why families have trusted Diamond Pet Foods for more than fifty years.
                    </p>
                  </div>
                </div>
                <div class="col-xl-8 col-lg-8 col-md-6">
                  <div class="menu_content">
                    <div class="category_links">
                      <a data-translate="bag.link1" href="nutritional_integrity.html" class="link_topics"
                        style="font-size: 1.1rem;">
                        Nutritional Integrity
                      </a>
                      <a data-translate="bag.link2" href="quality_assurance.html" class="link_topics"
                        style="font-size: 1.1rem;">
                        Quality Assurance
                      </a>
                      <a data-translate="bag.link3" href="ingredient_glossary.html" class="link_topics"
                        style="font-size: 1.1rem;">
                        Ingredient Glossary
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li><a href="gallery.html" data-translate="nav.gallery">Family Gallery</a></li>
          <li><a href="contact.html" data-translate="nav.contact">Contact Us</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>

  <main class="main">

    <div class="page-title dark-background" data-aos="fade" style="background-image: url(assets/img/);">
      <div class="container position-relative">
        <h1 data-translate="pets.dog_calc">pet Calculator</h1>
      </div>
    </div>

    <section id="about-3" class="section py-3">
      <div class="container">
        <div class="row">
          <div class="col-12 mb-4">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="pets_calculator.html" data-translate="nav.pets_calculator">
                    Pets Calculator</a></li>
                <li class="breadcrumb-item active" aria-current="page" data-translate="pets.dog_calc">
                  Dog's Calories Calculator
                </li>
              </ol>
            </nav>
          </div>
          <div class="col-12">
            <h2 class="content-title articleTitle mb-5" data-translate="pets.dog_calc">
              Dog's Calories Calculator
            </h2>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="card calculator">
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12">
                  <div>
                    <label data-translate="pets.type">Pet Type
                      <select id="petType">
                        <option value="" data-translate="pets.select_type">-- Select Pet --</option>
                        <option value="cat" data-translate="">Cat</option>
                        <option value="dog">Dog</option>
                      </select>
                    </label>

                    <label>Life Stage
                      <select id="lifeStage" disabled>
                        <option value="">-- Select Life Stage --</option>
                      </select>
                    </label>

                    <label id="activityLabel">Activity Level
                      <select id="activity" disabled>
                        <option value="">-- Select Activity Level --</option>
                      </select>
                    </label>

                    <label>Weight
                      <div class="pet_weight">
                        <input id="weight" type="number" min="0" step="0.1" placeholder="e.g. 4.5" disabled>
                        <select id="weightUnit" disabled>
                          <option value="kg">kg</option>
                          <option value="lb">lb</option>
                        </select>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-12">
                  <div>
                    <label>Food Type
                      <select id="foodType" disabled>
                        <option value="">-- Select Food Type --</option>
                        <option value="dry">Dry Food</option>
                        <option value="wet">Wet Food</option>
                      </select>
                    </label>

                    <label>Brand
                      <select id="brand" disabled>
                        <option value="">-- Select Brand --</option>
                      </select>
                    </label>

                    <label>Product
                      <select id="product" disabled>
                        <option value="">-- Select Product --</option>
                      </select>
                    </label>
                  </div>
                </div>
              </div>
              <div class="mt-2 results">
                <button id="calculateBtn" disabled>Calculate</button>
                <div id="calorieResult" class="result" style="display:none"></div>
                <div id="feedingResult" class="result" style="display:none"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="our-process section py-5">
      <div class="container">
        <div data-aos="fade-up" class="qualityAss_content">
          <h2 data-translate="pets.dog_calc_important" class="mb-4">
            The Importance of a Calorie Calculator for Dogs
          </h2>
          <p data-translate="pets.dog_calc_important_desc">
            Calculating your dog's calorie needs will help you ensure they get the right amount of food each day. Feeding dogs the
            correct amount of daily calories will keep them healthy and fit, and will prevent them from becoming overweight and
            obese, which can cause many health problems.
          </p>
          <h2 data-translate="pets.dog_calc_factors" class="mb-4">
            Factors Affecting Calorie Counts for Dogs
          </h2>
          <h4 data-translate="pets.dog_calc_factors_age">
            Dog Age and Different Life Stages
          </h4>
          <p data-translate="pets.dog_calc_factors_age_desc">
            Calorie needs vary by life stage. Puppies' needs differ from those of adult dogs, and pregnant or lactating female dogs
            require more calories than the average adult dog.
          </p>
          <h4 data-translate="pets.calc_factors_activity">
            Activity Level
          </h4>
          <p data-translate="pets.dog_calc_factors_activity_desc">
            Each dog breed varies in activity level. Active dogs burn more calories than sedentary dogs, so they need more calories
            each day.
          </p>
        </div>
      </div>
    </section>

  </main>

  <footer id="footer" class="footer dark-background">

    <div class="footer-top">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6 footer-about">
            <a href="index.html" class="logo d-flex align-items-center">
              <span class="sitename" data-translate="footer.company">PetzyBites Company, LLC</span>
            </a>
            <div class="footer-contact pt-3">
              <p data-translate="footer.address1"></p>
              <p data-translate="footer.address2">Egypt</p>
              <p class="mt-3"><strong data-translate="footer.phone.label"></strong> <span></span></p>
              <p><strong data-translate="footer.email.label">Email:</strong> <span>info@petzybites.com</span></p>
            </div>
          </div>

          <div class="col-lg-2 col-md-3 footer-links">
            <h4 data-translate="footer.useful">Useful Links</h4>
            <ul>
              <li><a href="index.html" data-translate="nav.home">Home</a></li>
              <li><a href="about.html" data-translate="nav.about">About us</a></li>
              <li><a href="brands.html" data-translate="nav.brands">Brands</a></li>
              <li><a href="gallery.html" data-translate="nav.gallery">Family Gallery</a></li>
              <li><a href="contact.html" data-translate="nav.contact">Contact</a></li>
            </ul>
          </div>

          <div class="col-lg-2 col-md-3 footer-links">
            <h4 data-translate="nav.brands">Our Brands</h4>
            <ul>
              <li><a href="https://101bite.com/" data-translate="brands.101">101 Bites</a></li>
              <li><a href="https://101bite.com/" data-translate="brands.bessa">Bessa Bites</a></li>
            </ul>
          </div>



        </div>
      </div>
    </div>

    <div class="copyright text-center">
      <div
        class="container d-flex flex-column flex-lg-row justify-content-center justify-content-lg-between align-items-center">

        <div class="d-flex flex-column align-items-center align-items-lg-start">
          <div>
            © Copyright 2024 <strong><span data-translate="footer.company">PetzyBites Company, LLC</span></strong>.
            <span data-translate="footer.rights">All Rights Reserved</span>
          </div>
        </div>

        <div class="social-links order-first order-lg-last mb-3 mb-lg-0">
          <a href="https://www.facebook.com/PetzyBites"><i class="bi bi-facebook"></i></a>
          <a href="https://www.instagram.com/petzybites/"><i class="bi bi-instagram"></i></a>
        </div>

      </div>
    </div>

  </footer>

  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <div id="preloader"></div>
  <script src="assets/js/jquery-3.6.0.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>

  <script src="assets/js/main.js"></script>
  <script src="assets/js/translations.js"></script>
  <script src="assets/js/di_script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var lang = localStorage.getItem('language') || 'en';
      var dropdown = document.getElementById('languageDropdown');
      if (dropdown) dropdown.value = lang;
    });
  </script>
  <script>
    // ---------- PRODUCTS JSON ----------
    const PRODUCTS = [
      // Cat Dry (4)
      { pet: "cat", type: "dry", brand: "Royal Canin", name: "Indoor Adult RC", calories_per_100g: 370, grams_per_cup: 90 },
      { pet: "cat", type: "dry", brand: "Royal Canin", name: "Kitten RC", calories_per_100g: 400, grams_per_cup: 95 },
      { pet: "cat", type: "dry", brand: "Purina", name: "ONE Adult", calories_per_100g: 360, grams_per_cup: 100 },
      { pet: "cat", type: "dry", brand: "Purina", name: "Pro Plan Sensitive", calories_per_100g: 365, grams_per_cup: 98 },

      // Cat Wet (4)
      { pet: "cat", type: "wet", brand: "Whiskas", name: "Ocean Fish", calories_per_can: 85, grams_per_can: 85 },
      { pet: "cat", type: "wet", brand: "Whiskas", name: "Chicken in Gravy", calories_per_can: 90, grams_per_can: 85 },
      { pet: "cat", type: "wet", brand: "Felix", name: "Tuna Jelly", calories_per_can: 80, grams_per_can: 100 },
      { pet: "cat", type: "wet", brand: "Felix", name: "Beef in Gravy", calories_per_can: 85, grams_per_can: 100 },

      // Dog Dry (4)
      { pet: "dog", type: "dry", brand: "Pedigree", name: "Adult Beef", calories_per_100g: 360, grams_per_cup: 110 },
      { pet: "dog", type: "dry", brand: "Pedigree", name: "Puppy Chicken", calories_per_100g: 380, grams_per_cup: 115 },
      { pet: "dog", type: "dry", brand: "Hill's", name: "Science Diet Adult", calories_per_100g: 355, grams_per_cup: 120 },
      { pet: "dog", type: "dry", brand: "Hill's", name: "Sensitive Stomach", calories_per_100g: 350, grams_per_cup: 118 },

      // Dog Wet (4)
      { pet: "dog", type: "wet", brand: "Cesar", name: "Chicken & Liver", calories_per_can: 150, grams_per_can: 150 },
      { pet: "dog", type: "wet", brand: "Cesar", name: "Beef Stew", calories_per_can: 160, grams_per_can: 150 },
      { pet: "dog", type: "wet", brand: "Pedigree", name: "Chopped Chicken", calories_per_can: 300, grams_per_can: 400 },
      { pet: "dog", type: "wet", brand: "Pedigree", name: "Beef & Gravy", calories_per_can: 310, grams_per_can: 400 }
    ];

    // Life stages & special growth stages
    const LIFE_STAGES = {
      cat: ["Kitten", "Adult", "Senior"],
      dog: ["Puppy", "Adult", "Senior"]
    };

    const GROWTH_KITTEN = [
      { value: "kit_lt4", label: "less than 4 months" },
      { value: "kit_4_9", label: "4-9 months" },
      { value: "kit_9_12", label: "9-12 months" }
    ];

    const GROWTH_PUPPY = [
      { value: "pup_lt50", label: "less than 50% of adult weight" },
      { value: "pup_50_80", label: "50-80% of adult weight" },
      { value: "pup_80_100", label: "80-100% of adult weight" }
    ];

    const ACTIVITY_OPTIONS = [
      { value: "normal", text: "Normal" },
      { value: "high", text: "High" }
    ];

    // ---------- MER factors ----------
    const MER_FACTORS = {
      cat: {
        adult: { normal: 1.2, high: 1.4 },
        senior: { normal: 0.50, high: 1.12 },
        kitten: { kit_lt4: 2.0, kit_4_9: 2.5, kit_9_12: 2.0 }
      },
      dog: {
        adult: { normal: 1.6, high: 1.8 },
        senior: { normal: 1.5, high: 1.6 },
        puppy: { pup_lt50: 2.0, pup_50_80: 2.0, pup_80_100: 2.0 }
      }
    };

    // ---------- FOOD factors ----------
    const FOOD_FACTORS = {
      dry: 1.0,   // baseline
      wet: 1.0    // ممكن تغيرها لو عايز تزود/تنقص شوية
    };

    // ---------- elements ----------
    const petTypeEl = document.getElementById("petType");
    const lifeStageEl = document.getElementById("lifeStage");
    const activityEl = document.getElementById("activity");
    const activityLabel = document.getElementById("activityLabel");
    const weightEl = document.getElementById("weight");
    const weightUnitEl = document.getElementById("weightUnit");

    const foodTypeEl = document.getElementById("foodType");
    const brandEl = document.getElementById("brand");
    const productEl = document.getElementById("product");

    const calculateBtn = document.getElementById("calculateBtn");
    const calorieResultEl = document.getElementById("calorieResult");
    const feedingResultEl = document.getElementById("feedingResult");

    // ---------- helpers ----------
    function resetSelect(el, placeholderText) {
      el.innerHTML = "";
      const opt = document.createElement("option");
      opt.value = "";
      opt.textContent = placeholderText || "-- Select --";
      el.appendChild(opt);
      el.disabled = true;
    }

    function enableSelect(el) {
      el.disabled = false;
    }

    function updateCalculateButtonState() {
      const pet = petTypeEl.value;
      const life = lifeStageEl.value;
      const act = activityEl.value;
      const weight = parseFloat(weightEl.value);
      const wvalid = !isNaN(weight) && weight > 0;
      const foodType = foodTypeEl.value;
      const brand = brandEl.value;
      const product = productEl.value;

      const enabled = pet && life && act && wvalid && foodType && brand && product;
      calculateBtn.disabled = !enabled;
    }

    function resetDependencies(ids) {
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        if (el.tagName === "SELECT") {
          if (id === "foodType") {
            el.value = "";
            el.disabled = true;
          } else {
            resetSelect(el, `-- Select ${id.charAt(0).toUpperCase() + id.slice(1)} --`);
          }
        } else if (el.tagName === "INPUT") {
          el.value = "";
          el.disabled = true;
        }
      });
      calorieResultEl.style.display = "none";
      feedingResultEl.style.display = "none";
      updateCalculateButtonState();
    }

    function populateActivityOrGrowth(pet, lifeStage) {
      resetSelect(activityEl, "-- Select Activity Level --");
      if (!lifeStage) return;
      if ((pet === "cat" && lifeStage === "kitten") || (pet === "dog" && lifeStage === "puppy")) {
        activityLabel.firstChild.nodeValue = pet === "cat" ? "Growth Stage (Kitten)" : "Growth Stage (Puppy)";
        const list = pet === "cat" ? GROWTH_KITTEN : GROWTH_PUPPY;
        list.forEach(item => {
          const opt = document.createElement("option");
          opt.value = item.value;
          opt.textContent = item.label;
          activityEl.appendChild(opt);
        });
        enableSelect(activityEl);
      } else {
        activityLabel.firstChild.nodeValue = "Activity Level";
        ACTIVITY_OPTIONS.forEach(o => {
          const opt = document.createElement("option");
          opt.value = o.value;
          opt.textContent = o.text;
          activityEl.appendChild(opt);
        });
        enableSelect(activityEl);
      }
    }

    // ---------- event handlers ----------
    petTypeEl.addEventListener("change", () => {
      resetSelect(lifeStageEl, "-- Select Life Stage --");
      resetDependencies(["activity", "weight", "foodType", "brand", "product"]);
      if (!petTypeEl.value) {
        lifeStageEl.disabled = true;
      } else {
        const list = LIFE_STAGES[petTypeEl.value] || [];
        list.forEach(stage => {
          const opt = document.createElement("option");
          opt.value = stage.toLowerCase();
          opt.textContent = stage;
          lifeStageEl.appendChild(opt);
        });
        enableSelect(lifeStageEl);
      }
      updateCalculateButtonState();
    });

    lifeStageEl.addEventListener("change", () => {
      resetDependencies(["weight", "foodType", "brand", "product"]);
      if (lifeStageEl.value) {
        populateActivityOrGrowth(petTypeEl.value, lifeStageEl.value);
      } else {
        resetSelect(activityEl, "-- Select Activity Level --");
      }
      updateCalculateButtonState();
    });

    activityEl.addEventListener("change", () => {
      resetDependencies(["foodType", "brand", "product"]);
      if (activityEl.value) {
        weightEl.disabled = false;
        weightUnitEl.disabled = false;
      } else {
        weightEl.value = "";
        weightEl.disabled = true;
        weightUnitEl.disabled = true;
      }
      updateCalculateButtonState();
    });

    weightEl.addEventListener("input", () => {
      const pet = petTypeEl.value;
      const life = lifeStageEl.value;
      const act = activityEl.value;
      const weight = parseFloat(weightEl.value);
      if (pet && life && act && !isNaN(weight) && weight > 0) {
        foodTypeEl.disabled = false;
      } else {
        resetDependencies(["foodType", "brand", "product"]);
      }
      updateCalculateButtonState();
    });
    weightUnitEl.addEventListener("change", updateCalculateButtonState);

    foodTypeEl.addEventListener("change", () => {
      resetSelect(brandEl, "-- Select Brand --");
      resetSelect(productEl, "-- Select Product --");
      feedingResultEl.style.display = "none";
      calorieResultEl.style.display = "none";
      if (!foodTypeEl.value) {
        brandEl.disabled = true;
        productEl.disabled = true;
        updateCalculateButtonState();
        return;
      }
      const pet = petTypeEl.value;
      const type = foodTypeEl.value;
      const brands = [...new Set(PRODUCTS.filter(p => p.pet === pet && p.type === type).map(p => p.brand))];
      brands.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b;
        opt.textContent = b;
        brandEl.appendChild(opt);
      });
      brandEl.disabled = brands.length === 0;
      updateCalculateButtonState();
    });

    brandEl.addEventListener("change", () => {
      resetSelect(productEl, "-- Select Product --");
      feedingResultEl.style.display = "none";
      calorieResultEl.style.display = "none";
      if (!brandEl.value) {
        productEl.disabled = true;
        updateCalculateButtonState();
        return;
      }
      const pet = petTypeEl.value;
      const type = foodTypeEl.value;
      const brand = brandEl.value;
      const prods = PRODUCTS.filter(p => p.pet === pet && p.type === type && p.brand === brand);
      prods.forEach(prod => {
        const opt = document.createElement("option");
        opt.value = prod.name;
        opt.textContent = prod.name;
        productEl.appendChild(opt);
      });
      productEl.disabled = prods.length === 0;
      updateCalculateButtonState();
    });

    productEl.addEventListener("change", () => {
      feedingResultEl.style.display = "none";
      calorieResultEl.style.display = "none";
      updateCalculateButtonState();
    });

    // ---------- calculation ----------
    function calcRER(kg) {
      return 70 * Math.pow(kg, 0.75);
    }

    function pickMerFactor(pet, lifeStage, activityOrGrowth) {
      if (!MER_FACTORS[pet]) return 1.2;
      if (lifeStage === "kitten") {
        return MER_FACTORS[pet].kitten?.[activityOrGrowth] || 2.0;
      }
      if (lifeStage === "puppy") {
        return MER_FACTORS[pet].puppy?.[activityOrGrowth] || 2.0;
      }
      const stageKey = lifeStage === "senior" ? "senior" : "adult";
      const act = activityOrGrowth || "normal";
      return MER_FACTORS[pet][stageKey]?.[act] || 1.2;
    }

    calculateBtn.addEventListener("click", () => {
      const pet = petTypeEl.value;
      let weight = parseFloat(weightEl.value);
      const unit = weightUnitEl.value;
      const activity = activityEl.value;
      const foodType = foodTypeEl.value;
      const brand = brandEl.value;
      const prodName = productEl.value;

      const prod = PRODUCTS.find(p => p.pet === pet && p.type === foodType && p.brand === brand && p.name === prodName);
      if (!pet || !weight || !activity || !foodType || !brand || !prod) {
        alert("Please fill all fields correctly before calculating.");
        return;
      }

      if (unit === "lb") weight = weight * 0.45359237;

      const rer = calcRER(weight);
      const merFactor = pickMerFactor(pet, lifeStageEl.value, activity);
      const foodAdj = FOOD_FACTORS[foodType] || 1.0;
      const dailyCalories = Math.round(rer * merFactor * foodAdj);

      calorieResultEl.style.display = "block";
      calorieResultEl.innerHTML = `<strong>Daily Calories:</strong> ${dailyCalories} kcal (RER ${Math.round(rer)} × factor ${merFactor} × foodAdj ${foodAdj})`;

      let feedingText = "";
      if (prod.type === "dry") {
        const gramsPerDay = (dailyCalories / prod.calories_per_100g) * 100;
        const cups = prod.grams_per_cup ? gramsPerDay / prod.grams_per_cup : null;
        if (cups !== null) {
          feedingText = `Recommended: <strong>${Math.round(gramsPerDay)} g/day</strong> (≈ ${cups.toFixed(1)} cups/day)<br>Product: ${prod.name} (${prod.brand}) — ${prod.calories_per_100g} kcal/100g.`;
        } else {
          feedingText = `Recommended: <strong>${Math.round(gramsPerDay)} g/day</strong> (no cup conversion)<br>Product: ${prod.name} (${prod.brand}) — ${prod.calories_per_100g} kcal/100g.`;
        }
      } else if (prod.type === "wet") {
        const cansPerDay = dailyCalories / prod.calories_per_can;
        const gramsPerDay = cansPerDay * prod.grams_per_can;
        feedingText = `Recommended: <strong>${cansPerDay.toFixed(1)} cans/day</strong> (~${Math.round(gramsPerDay)} g/day)<br>Product: ${prod.name} (${prod.brand}).`;
      }

      feedingResultEl.style.display = "block";
      feedingResultEl.innerHTML = `<strong>Feeding recommendation:</strong><br>${feedingText}`;
    });

    // ---------- init ----------
    (function init() {
      resetSelect(lifeStageEl, "-- Select Life Stage --");
      resetSelect(activityEl, "-- Select Activity Level --");
      resetSelect(brandEl, "-- Select Brand --");
      resetSelect(productEl, "-- Select Product --");

      foodTypeEl.value = "";
      foodTypeEl.disabled = true;
      weightEl.disabled = true;
      weightUnitEl.disabled = true;
      calculateBtn.disabled = true;

      [petTypeEl, lifeStageEl, activityEl, weightEl, weightUnitEl, foodTypeEl, brandEl, productEl]
        .forEach(el => el.addEventListener('change', updateCalculateButtonState));

      petTypeEl.addEventListener('change', () => resetDependencies(["activity", "weight", "foodType", "brand", "product"]));
      lifeStageEl.addEventListener('change', () => resetDependencies(["weight", "foodType", "brand", "product"]));
    })();
  </script>
  
</body>

</html>